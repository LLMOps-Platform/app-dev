{% extends "base.html" %}

{% block title %}
    API Documentation
{% endblock %}

{% block brand_text %}
    {{ model_name }}
{% endblock %}

{% block extra_nav %}
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('api_doc_model', model_name=model_name) }}">API Doc</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{{ url_for('instances_model', model_name=model_name) }}">Instances Running</a>
    </li>
{% endblock %}

{% block content %}
    <h1>API Documentation</h1>
    <p>Model: {{ model_name }}</p>
    <p>{{ num_endpoints }} API endpoints available</p>

    <h2>API Endpoints</h2>
    <ul>
      {% for name, endpoint in api_endpoints.items() %}
        <li><strong>{{ name }}:</strong> {{ endpoint }}</li>
      {% endfor %}
    </ul>

    {% if code_snippets %}
      <h2>Usage Examples</h2>
      {% for snippet in code_snippets %}
        <h3>Endpoint: {{ snippet.api_name }}</h3>
        <pre><code class="language-python">{{ snippet.code }}</code></pre>
      {% endfor %}
    {% endif %}
{% endblock %}